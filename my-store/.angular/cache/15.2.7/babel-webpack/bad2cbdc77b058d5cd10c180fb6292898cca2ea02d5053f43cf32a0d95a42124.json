{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/store.service\";\nimport * as i2 from \"../../services/products.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../product/product.component\";\nimport * as i5 from \"../../pipes/time-ago.pipe\";\nfunction ProductsListComponent_app_product_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-product\", 2);\n    i0.ɵɵlistener(\"addedProduct\", function ProductsListComponent_app_product_1_Template_app_product_addedProduct_0_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onAddToShoppiongCart($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const p_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"product\", p_r1);\n  }\n}\nexport class ProductsListComponent {\n  constructor(storeService, ProductsService) {\n    this.storeService = storeService;\n    this.ProductsService = ProductsService;\n    this.myShoppingCart = [];\n    this.total = 0;\n    this.today = new Date();\n    this.date = new Date(2021, 1, 21);\n    this.products = [];\n    this.myShoppingCart = this.storeService.getShoppingCart();\n  }\n  ngOnInit() {\n    // Ponemos esto aqui en vez de el constructor, ya que se trata de una peticion asincrona\n    this.ProductsService.getAllProducts().subscribe(data => {\n      this.products = data;\n    });\n  }\n  onAddToShoppiongCart(product) {\n    this.storeService.addProduct(product);\n    this.total = this.storeService.getTotal();\n  }\n}\nProductsListComponent.ɵfac = function ProductsListComponent_Factory(t) {\n  return new (t || ProductsListComponent)(i0.ɵɵdirectiveInject(i1.StoreService), i0.ɵɵdirectiveInject(i2.ProductsService));\n};\nProductsListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductsListComponent,\n  selectors: [[\"app-products-list\"]],\n  decls: 12,\n  vars: 10,\n  consts: [[1, \"products--grid\"], [3, \"product\", \"addedProduct\", 4, \"ngFor\", \"ngForOf\"], [3, \"product\", \"addedProduct\"]],\n  template: function ProductsListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, ProductsListComponent_app_product_1_Template, 1, 1, \"app-product\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"p\");\n      i0.ɵɵtext(3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"p\");\n      i0.ɵɵtext(5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"p\");\n      i0.ɵɵtext(7);\n      i0.ɵɵpipe(8, \"date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"p\");\n      i0.ɵɵtext(10);\n      i0.ɵɵpipe(11, \"timeAgo\");\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.products);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" Numero de productos \", ctx.myShoppingCart.length, \"\\n\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" Coste total \", ctx.total, \"\\n\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" Today: \", i0.ɵɵpipeBind2(8, 5, ctx.today, \"short\"), \"\\n\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\" Today: \", i0.ɵɵpipeBind1(11, 8, ctx.today), \"\\n\");\n    }\n  },\n  dependencies: [i3.NgForOf, i4.ProductComponent, i3.DatePipe, i5.TimeAgoPipe],\n  styles: [\".products--grid[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n@media screen and (min-width: 40em) and (max-width: 63.9em) {\\n  .products--grid[_ngcontent-%COMP%] {\\n    display: grid;\\n    grid-template-columns: repeat(4, 1fr);\\n    grid-gap: 15px;\\n  }\\n}\\n@media screen and (min-width: 6em) {\\n  .products--grid[_ngcontent-%COMP%] {\\n    display: grid;\\n    grid-template-columns: repeat(5, 1fr);\\n    grid-gap: 15px;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9wcm9kdWN0cy1saXN0L3Byb2R1Y3RzLWxpc3QuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFBO0VBQ0Esc0JBQUE7QUFDRjs7QUFHQTtFQUNFO0lBQ0UsYUFBQTtJQUNBLHFDQUFBO0lBQ0EsY0FBQTtFQUFGO0FBQ0Y7QUFJQTtFQUNFO0lBQ0UsYUFBQTtJQUNBLHFDQUFBO0lBQ0EsY0FBQTtFQUZGO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIucHJvZHVjdHMtLWdyaWQge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xufVxuXG4vL3RhYmxldHNcbkBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDQwZW0pIGFuZCAobWF4LXdpZHRoOjYzLjllbSkge1xuICAucHJvZHVjdHMtLWdyaWQge1xuICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoNCwxZnIpO1xuICAgIGdyaWQtZ2FwOiAxNXB4O1xuICB9XG59XG5cbi8vd2VlYlxuQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNmVtKSB7XG4gIC5wcm9kdWN0cy0tZ3JpZCB7XG4gICAgZGlzcGxheTogZ3JpZDtcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCg1LDFmcik7XG4gICAgZ3JpZC1nYXA6IDE1cHg7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;IAEEA,sCAIG;IADDA;MAAAA;MAAA;MAAA,OAAgBA,kDAA4B;IAAA,EAAC;IAC5CA,iBAAc;;;;IAFfA,8BAAa;;;ACOjB,OAAM,MAAOC,qBAAqB;EAQhCC,YACUC,YAA0B,EAC1BC,eAAgC;IADhC,iBAAY,GAAZD,YAAY;IACZ,oBAAe,GAAfC,eAAe;IATzB,mBAAc,GAAc,EAAE;IAC9B,UAAK,GAAW,CAAC;IACjB,UAAK,GAAG,IAAIC,IAAI,EAAE;IAClB,SAAI,GAAG,IAAIA,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE,CAAC;IAE5B,aAAQ,GAAc,EAAE;IAMtB,IAAI,CAACC,cAAc,GAAG,IAAI,CAACH,YAAY,CAACI,eAAe,EAAE;EAC3D;EAEAC,QAAQ;IACN;IACA,IAAI,CAACJ,eAAe,CAACK,cAAc,EAAE,CAClCC,SAAS,CAACC,IAAI,IAAG;MAAE,IAAI,CAACC,QAAQ,GAAGD,IAAI;IAAA,CAAC,CAAC;EAC9C;EAEAE,oBAAoB,CAACC,OAAgB;IACnC,IAAI,CAACX,YAAY,CAACY,UAAU,CAACD,OAAO,CAAC;IACrC,IAAI,CAACE,KAAK,GAAG,IAAI,CAACb,YAAY,CAACc,QAAQ,EAAE;EAE3C;;AAzBWhB,qBAAqB;mBAArBA,qBAAqB;AAAA;AAArBA,qBAAqB;QAArBA,qBAAqB;EAAAiB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDVlCtB,8BAA4B;MAC1BA,sFAIiB;MACnBA,iBAAM;MAENA,yBAAG;MACDA,YACF;MAAAA,iBAAI;MACJA,yBAAG;MACDA,YACF;MAAAA,iBAAI;MACJA,yBAAG;MACDA,YACF;;MAAAA,iBAAI;MACJA,yBAAG;MACDA,aACF;;MAAAA,iBAAI;;;MAjBcA,eAAW;MAAXA,sCAAW;MAO3BA,eACF;MADEA,+EACF;MAEEA,eACF;MADEA,uDACF;MAEEA,eACF;MADEA,iFACF;MAEEA,eACF;MADEA,yEACF","names":["i0","ProductsListComponent","constructor","storeService","ProductsService","Date","myShoppingCart","getShoppingCart","ngOnInit","getAllProducts","subscribe","data","products","onAddToShoppiongCart","product","addProduct","total","getTotal","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/doplax/eCommerce-Angular/my-store/src/app/components/products-list/products-list.component.html","/home/doplax/eCommerce-Angular/my-store/src/app/components/products-list/products-list.component.ts"],"sourcesContent":["\n<div class=\"products--grid\">\n  <app-product\n    *ngFor=\"let p of products\"\n    [product]=\"p\"\n    (addedProduct)=\"onAddToShoppiongCart($event)\"\n    ></app-product>\n</div>\n<!-- Contador -->\n<p>\n  Numero de productos {{myShoppingCart.length}}\n</p>\n<p>\n  Coste total {{total}}\n</p>\n<p>\n  Today: {{ today  | date:'short' }}\n</p>\n<p>\n  Today: {{ today  | timeAgo }}\n</p>\n\n","import { Product }from '../../interfaces/product.interface';\nimport { Component } from '@angular/core';\nimport { StoreService } from '../../services/store.service'\nimport { ProductsService } from '../../services/products.service'\n\n\n@Component({\n  selector: 'app-products-list',\n  templateUrl: './products-list.component.html',\n  styleUrls: ['./products-list.component.scss']\n})\nexport class ProductsListComponent {\n  myShoppingCart: Product[] = [];\n  total: number = 0;\n  today = new Date();\n  date = new Date(2021, 1, 21);\n\n  products: Product[] = [];\n\n  constructor (\n    private storeService: StoreService,\n    private ProductsService: ProductsService\n  ) {\n    this.myShoppingCart = this.storeService.getShoppingCart();\n  }\n\n  ngOnInit () {\n    // Ponemos esto aqui en vez de el constructor, ya que se trata de una peticion asincrona\n    this.ProductsService.getAllProducts()\n      .subscribe(data => {this.products = data})\n  }\n\n  onAddToShoppiongCart(product: Product): void {\n    this.storeService.addProduct(product)\n    this.total = this.storeService.getTotal()\n\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}